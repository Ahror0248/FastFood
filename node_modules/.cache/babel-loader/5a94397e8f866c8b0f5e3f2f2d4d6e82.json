{"ast":null,"code":"var _jsxFileName = \"/home/ahrorbek/Videos/ffmeal/src/components/Filiallar/DND/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { YMaps, Map, Placemark, TypeSelector, GeolocationControl, FullscreenControl, RouteButton, SearchControl, TrafficControl, ZoomControl } from \"react-yandex-maps\";\nimport { Container, Dates, Wrapper, Title, Action, ImageText, ButtonAll, RestoreButton, Restore, RestoreIcon, Input, ReactYandex, YandexTitle } from \"./style\";\nimport { data } from \"../../../mock/filiallar\";\nimport Delete from \"../../Generic/Delete\";\nimport Edit from \"../../Generic/Edit\";\nimport Cancel from \"../../Generic/Cancel\";\nimport restoreIcon from \"../../../assets/icon/restoreIcon.svg\";\nimport Maps from \"../../Generic/Map\";\nimport Save from \"../../Generic/Save\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DND = () => {\n  _s();\n\n  const [baza, setBaza] = useState(data);\n  const [restore] = useState(data);\n  const [selected, setSelected] = useState(null);\n  const [mapselected, setMapSelected] = useState(null);\n  const [currentCard, setCurrentCard] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  const [rutitle, setRuTitle] = useState(\"\");\n  const [moljal, setMoljal] = useState(\"\");\n  const [ish, setIsh] = useState(\"\");\n\n  const onDelete = value => {\n    const filtered = baza.filter(data => data.id !== value.id);\n    setBaza(filtered);\n  };\n\n  const onRestore = () => {\n    setBaza(restore);\n  };\n\n  const onEdit = value => {\n    setSelected(value.id);\n    setTitle(value.title);\n    setRuTitle(value.rutitle);\n    setMoljal(value.moljal);\n    setIsh(value.ish);\n  };\n\n  const onMap = value => {\n    setMapSelected(value.id);\n  };\n\n  const dragStartHandler = (e, value) => {\n    setCurrentCard(value);\n  };\n\n  const dragEndHandler = e => {\n    e.target.style.background = \"white\";\n  };\n\n  const dragOverHandler = e => {\n    e.preventDefault();\n    e.target.style.background = \"lightgray\";\n  };\n\n  const onSave = () => {\n    let newData = baza.map(value => value.id === selected ? { ...value,\n      title: title,\n      rutitle: rutitle,\n      moljal: moljal,\n      ish: ish,\n      selected: value.id\n    } : value);\n    setBaza(newData);\n    setSelected(null);\n  };\n\n  const dropHandler = (e, value) => {\n    e.preventDefault();\n    setBaza(baza.map(c => {\n      if (c.id === value.id) {\n        return { ...c,\n          order: currentCard.order\n        };\n      }\n\n      if (c.id === currentCard.id) {\n        return { ...c,\n          order: value.order\n        };\n      }\n\n      return c;\n    }));\n    e.target.style.background = \"white\";\n  };\n\n  const sortCards = (a, b) => {\n    if (a.order < b.order) {\n      return 1;\n    } else {\n      return -1;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: baza.length !== 0 ? baza.sort(sortCards).map(value => /*#__PURE__*/_jsxDEV(Wrapper, {\n      onDragStart: e => dragStartHandler(e, value),\n      onDragLeave: e => dragEndHandler(e),\n      onDragEnd: e => dragEndHandler(e),\n      onDragOver: e => dragOverHandler(e),\n      onDrop: e => dropHandler(e, value),\n      draggable: true,\n      children: [/*#__PURE__*/_jsxDEV(Dates, {\n        children: [/*#__PURE__*/_jsxDEV(ImageText, {\n          children: /*#__PURE__*/_jsxDEV(Title, {\n            left: \"true\",\n            children: selected === value.id ? /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => setTitle(e.target.value),\n              type: \"text\",\n              value: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 21\n            }, this) : value.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Title, {\n          children: selected === value.id ? /*#__PURE__*/_jsxDEV(Input, {\n            onChange: e => setRuTitle(e.target.value),\n            type: \"text\",\n            value: rutitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 19\n          }, this) : value.rutitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Title, {\n          children: selected === value.id ? /*#__PURE__*/_jsxDEV(Input, {\n            onChange: e => setMoljal(e.target.value),\n            type: \"text\",\n            value: moljal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 19\n          }, this) : value.moljal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Title, {\n          children: selected === value.id ? /*#__PURE__*/_jsxDEV(Input, {\n            onChange: e => setIsh(e.target.value),\n            type: \"text\",\n            value: ish\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 19\n          }, this) : value.ish\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Action, {\n          children: [mapselected === value.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setMapSelected(null),\n            children: /*#__PURE__*/_jsxDEV(Cancel, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => onMap(value),\n            children: /*#__PURE__*/_jsxDEV(Maps, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => onDelete(value),\n            children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this), selected === value.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: onSave,\n              children: /*#__PURE__*/_jsxDEV(Save, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => setSelected(null),\n              children: /*#__PURE__*/_jsxDEV(Cancel, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => onEdit(value),\n            children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this), mapselected === value.id ? /*#__PURE__*/_jsxDEV(ReactYandex, {\n        children: /*#__PURE__*/_jsxDEV(YMaps, {\n          children: [/*#__PURE__*/_jsxDEV(YandexTitle, {\n            children: \"Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Map, {\n            style: {\n              width: \"100%\",\n              height: 300\n            },\n            defaultState: {\n              center: [41.114592, 72.077593],\n              zoom: 5\n            },\n            children: [/*#__PURE__*/_jsxDEV(Placemark, {\n              geometry: [41.114592, 72.077593]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TypeSelector, {\n              options: {\n                float: \"right\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(GeolocationControl, {\n              options: {\n                float: \"left\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(FullscreenControl, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(RouteButton, {\n              options: {\n                float: \"right\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(SearchControl, {\n              options: {\n                float: \"right\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TrafficControl, {\n              options: {\n                float: \"right\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(ZoomControl, {\n              options: {\n                float: \"right\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }, this) : \"\"]\n    }, value.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }, this)) : /*#__PURE__*/_jsxDEV(ButtonAll, {\n      onClick: onRestore,\n      children: /*#__PURE__*/_jsxDEV(RestoreButton, {\n        children: /*#__PURE__*/_jsxDEV(Restore, {\n          className: \"btn-pill\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(RestoreIcon, {\n              src: restoreIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), \"Restore\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DND, \"YoQl0aFCKBrunY5aiMp1zVQKsoo=\");\n\n_c = DND;\nexport default DND;\n\nvar _c;\n\n$RefreshReg$(_c, \"DND\");","map":{"version":3,"sources":["/home/ahrorbek/Videos/ffmeal/src/components/Filiallar/DND/index.jsx"],"names":["React","useState","YMaps","Map","Placemark","TypeSelector","GeolocationControl","FullscreenControl","RouteButton","SearchControl","TrafficControl","ZoomControl","Container","Dates","Wrapper","Title","Action","ImageText","ButtonAll","RestoreButton","Restore","RestoreIcon","Input","ReactYandex","YandexTitle","data","Delete","Edit","Cancel","Maps","Save","DND","baza","setBaza","restore","selected","setSelected","mapselected","setMapSelected","currentCard","setCurrentCard","title","setTitle","rutitle","setRuTitle","moljal","setMoljal","ish","setIsh","onDelete","value","filtered","filter","id","onRestore","onEdit","onMap","dragStartHandler","e","dragEndHandler","target","style","background","dragOverHandler","preventDefault","onSave","newData","map","dropHandler","c","order","sortCards","a","b","length","sort","display","width","height","center","zoom","float","restoreIcon"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  YMaps,\n  Map,\n  Placemark,\n  TypeSelector,\n  GeolocationControl,\n  FullscreenControl,\n  RouteButton,\n  SearchControl,\n  TrafficControl,\n  ZoomControl,\n} from \"react-yandex-maps\";\nimport {\n  Container,\n  Dates,\n  Wrapper,\n  Title,\n  Action,\n  ImageText,\n  ButtonAll,\n  RestoreButton,\n  Restore,\n  RestoreIcon,\n  Input,\n  ReactYandex,\n  YandexTitle,\n} from \"./style\";\nimport { data } from \"../../../mock/filiallar\";\nimport Delete from \"../../Generic/Delete\";\nimport Edit from \"../../Generic/Edit\";\nimport Cancel from \"../../Generic/Cancel\";\nimport restoreIcon from \"../../../assets/icon/restoreIcon.svg\";\nimport Maps from \"../../Generic/Map\";\nimport Save from \"../../Generic/Save\";\n\nexport const DND = () => {\n  const [baza, setBaza] = useState(data);\n  const [restore] = useState(data);\n  const [selected, setSelected] = useState(null);\n  const [mapselected, setMapSelected] = useState(null);\n  const [currentCard, setCurrentCard] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  const [rutitle, setRuTitle] = useState(\"\");\n  const [moljal, setMoljal] = useState(\"\");\n  const [ish, setIsh] = useState(\"\");\n\n  const onDelete = (value) => {\n    const filtered = baza.filter((data) => data.id !== value.id);\n    setBaza(filtered);\n  };\n  const onRestore = () => {\n    setBaza(restore);\n  };\n  const onEdit = (value) => {\n    setSelected(value.id);\n    setTitle(value.title);\n    setRuTitle(value.rutitle);\n    setMoljal(value.moljal);\n    setIsh(value.ish);\n  };\n  const onMap = (value) => {\n    setMapSelected(value.id);\n  };\n  const dragStartHandler = (e, value) => {\n    setCurrentCard(value);\n  };\n  const dragEndHandler = (e) => {\n    e.target.style.background = \"white\";\n  };\n  const dragOverHandler = (e) => {\n    e.preventDefault();\n    e.target.style.background = \"lightgray\";\n  };\n  const onSave = () => {\n    let newData = baza.map((value) =>\n      value.id === selected\n        ? {\n            ...value,\n            title: title,\n            rutitle: rutitle,\n            moljal: moljal,\n            ish: ish,\n            selected: value.id,\n          }\n        : value\n    );\n    setBaza(newData);\n    setSelected(null);\n  };\n  const dropHandler = (e, value) => {\n    e.preventDefault();\n    setBaza(\n      baza.map((c) => {\n        if (c.id === value.id) {\n          return { ...c, order: currentCard.order };\n        }\n        if (c.id === currentCard.id) {\n          return { ...c, order: value.order };\n        }\n        return c;\n      })\n    );\n    e.target.style.background = \"white\";\n  };\n  const sortCards = (a, b) => {\n    if (a.order < b.order) {\n      return 1;\n    } else {\n      return -1;\n    }\n  };\n  return (\n    <Container>\n      {baza.length !== 0 ? (\n        baza.sort(sortCards).map((value) => (\n          <Wrapper\n            onDragStart={(e) => dragStartHandler(e, value)}\n            onDragLeave={(e) => dragEndHandler(e)}\n            onDragEnd={(e) => dragEndHandler(e)}\n            onDragOver={(e) => dragOverHandler(e)}\n            onDrop={(e) => dropHandler(e, value)}\n            draggable={true}\n            key={value.id}\n          >\n            <Dates>\n              <ImageText>\n                <Title left=\"true\">\n                  {selected === value.id ? (\n                    <Input\n                      onChange={(e) => setTitle(e.target.value)}\n                      type=\"text\"\n                      value={title}\n                    />\n                  ) : (\n                    value.title\n                  )}\n                </Title>\n              </ImageText>\n              <Title>\n                {selected === value.id ? (\n                  <Input\n                    onChange={(e) => setRuTitle(e.target.value)}\n                    type=\"text\"\n                    value={rutitle}\n                  />\n                ) : (\n                  value.rutitle\n                )}\n              </Title>\n              <Title>\n                {selected === value.id ? (\n                  <Input\n                    onChange={(e) => setMoljal(e.target.value)}\n                    type=\"text\"\n                    value={moljal}\n                  />\n                ) : (\n                  value.moljal\n                )}\n              </Title>\n              <Title>\n                {selected === value.id ? (\n                  <Input\n                    onChange={(e) => setIsh(e.target.value)}\n                    type=\"text\"\n                    value={ish}\n                  />\n                ) : (\n                  value.ish\n                )}\n              </Title>\n              <Action>\n                {mapselected === value.id ? (\n                  <div onClick={() => setMapSelected(null)}>\n                    <Cancel />\n                  </div>\n                ) : (\n                  <div onClick={() => onMap(value)}>\n                    <Maps />\n                  </div>\n                )}\n                <div onClick={() => onDelete(value)}>\n                  <Delete />\n                </div>\n                {selected === value.id ? (\n                  <div style={{ display: \"flex\" }}>\n                    <div onClick={onSave}>\n                      <Save />\n                    </div>\n                    <div onClick={() => setSelected(null)}>\n                      <Cancel />\n                    </div>\n                  </div>\n                ) : (\n                  <div onClick={() => onEdit(value)}>\n                    <Edit />\n                  </div>\n                )}\n              </Action>\n            </Dates>\n            {mapselected === value.id ? (\n              <ReactYandex>\n                <YMaps>\n                  <YandexTitle>Location</YandexTitle>\n                  <Map\n                    style={{ width: \"100%\", height: 300 }}\n                    defaultState={{\n                      center: [41.114592, 72.077593],\n                      zoom: 5,\n                    }}\n                  >\n                    <Placemark geometry={[41.114592, 72.077593]} />\n                    <TypeSelector options={{ float: \"right\" }} />\n                    <GeolocationControl options={{ float: \"left\" }} />\n                    <FullscreenControl />\n                    <RouteButton options={{ float: \"right\" }} />\n                    <SearchControl options={{ float: \"right\" }} />\n                    <TrafficControl options={{ float: \"right\" }} />\n                    <ZoomControl options={{ float: \"right\" }} />\n                  </Map>\n                </YMaps>\n              </ReactYandex>\n            ) : (\n              \"\"\n            )}\n          </Wrapper>\n        ))\n      ) : (\n        <ButtonAll onClick={onRestore}>\n          <RestoreButton>\n            <Restore className=\"btn-pill\">\n              <span>\n                <RestoreIcon src={restoreIcon} />\n                Restore\n              </span>\n            </Restore>\n          </RestoreButton>\n        </ButtonAll>\n      )}\n    </Container>\n  );\n};\nexport default DND;\n"]},"metadata":{},"sourceType":"module"}