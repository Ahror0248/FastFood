{"ast":null,"code":"import _objectSpread from\"/home/ahrorbek/Videos/ffmeal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ahrorbek/Videos/ffmeal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Container,Dates,Wrapper,Title,Action,ButtonAll,RestoreButton,Restore,RestoreIcon,Column,Info,Payme}from\"./style\";import{data}from\"../../../mock/xisobot\";import Delete from\"../../Generic/Delete\";import restoreIcon from\"../../../assets/icon/restoreIcon.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var DND=function DND(){var _useState=useState(data),_useState2=_slicedToArray(_useState,2),baza=_useState2[0],setBaza=_useState2[1];var _useState3=useState(data),_useState4=_slicedToArray(_useState3,1),restore=_useState4[0];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),currentCard=_useState6[0],setCurrentCard=_useState6[1];var onDelete=function onDelete(value){var filtered=baza.filter(function(data){return data.id!==value.id;});setBaza(filtered);};var onRestore=function onRestore(){setBaza(restore);};var dragStartHandler=function dragStartHandler(e,value){setCurrentCard(value);};var dragEndHandler=function dragEndHandler(e){e.target.style.background=\"white\";};var dragOverHandler=function dragOverHandler(e){e.preventDefault();e.target.style.background=\"lightgray\";};var dropHandler=function dropHandler(e,value){e.preventDefault();setBaza(baza.map(function(c){if(c.id===value.id){return _objectSpread(_objectSpread({},c),{},{order:currentCard.order});}if(c.id===currentCard.id){return _objectSpread(_objectSpread({},c),{},{order:value.order});}return c;}));e.target.style.background=\"white\";};var sortCards=function sortCards(a,b){if(a.order<b.order){return 1;}else{return-1;}};return/*#__PURE__*/_jsx(Container,{children:baza.length!==0?baza.sort(sortCards).map(function(value){return/*#__PURE__*/_jsx(Wrapper,{onDragStart:function onDragStart(e){return dragStartHandler(e,value);},onDragLeave:function onDragLeave(e){return dragEndHandler(e);},onDragEnd:function onDragEnd(e){return dragEndHandler(e);},onDragOver:function onDragOver(e){return dragOverHandler(e);},onDrop:function onDrop(e){return dropHandler(e,value);},draggable:true,children:/*#__PURE__*/_jsxs(Dates,{children:[/*#__PURE__*/_jsxs(Title,{left:\"true\",children:[/*#__PURE__*/_jsx(Column,{location:\"true\",children:value.location}),/*#__PURE__*/_jsx(Column,{children:value.operator})]}),/*#__PURE__*/_jsxs(Title,{children:[/*#__PURE__*/_jsxs(Column,{location:\"true\",children:[value.orderprice,\" UZS\"]}),/*#__PURE__*/_jsxs(Info,{children:[/*#__PURE__*/_jsx(Payme,{}),/*#__PURE__*/_jsx(Column,{children:\"Payme\"})]})]}),/*#__PURE__*/_jsxs(Title,{left:\"true\",children:[/*#__PURE__*/_jsx(Column,{location:\"true\",children:value.user}),/*#__PURE__*/_jsx(Column,{children:value.phone})]}),/*#__PURE__*/_jsxs(Title,{left:\"true\",children:[/*#__PURE__*/_jsxs(Column,{location:\"true\",children:[value.sana.getDay(),\".\",value.sana.getMonth(),\".\",value.sana.getFullYear()]}),/*#__PURE__*/_jsxs(Column,{children:[value.time.getHours(),\":\",value.time.getMinutes(),\":\",value.time.getSeconds()]})]}),/*#__PURE__*/_jsx(Action,{children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return onDelete(value);},children:/*#__PURE__*/_jsx(Delete,{})})})]})},value.id);}):/*#__PURE__*/_jsx(ButtonAll,{onClick:onRestore,children:/*#__PURE__*/_jsx(RestoreButton,{children:/*#__PURE__*/_jsx(Restore,{className:\"btn-pill\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(RestoreIcon,{src:restoreIcon}),\"Restore\"]})})})})});};export default DND;","map":{"version":3,"sources":["/home/ahrorbek/Videos/ffmeal/src/components/Hisobotlar/DND/index.jsx"],"names":["React","useState","Container","Dates","Wrapper","Title","Action","ButtonAll","RestoreButton","Restore","RestoreIcon","Column","Info","Payme","data","Delete","DND","baza","setBaza","restore","currentCard","setCurrentCard","onDelete","value","filtered","filter","id","onRestore","dragStartHandler","e","dragEndHandler","target","style","background","dragOverHandler","preventDefault","dropHandler","map","c","order","sortCards","a","b","length","sort","location","operator","orderprice","user","phone","sana","getDay","getMonth","getFullYear","time","getHours","getMinutes","getSeconds","restoreIcon"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Container,\n  Dates,\n  Wrapper,\n  Title,\n  Action,\n  ButtonAll,\n  RestoreButton,\n  Restore,\n  RestoreIcon,\n  Column,\n  Info,\n  Payme,\n} from \"./style\";\nimport { data } from \"../../../mock/xisobot\";\nimport Delete from \"../../Generic/Delete\";\nimport restoreIcon from \"../../../assets/icon/restoreIcon.svg\";\n\nexport const DND = () => {\n  const [baza, setBaza] = useState(data);\n  const [restore] = useState(data);\n  const [currentCard, setCurrentCard] = useState(null);\n\n  const onDelete = (value) => {\n    const filtered = baza.filter((data) => data.id !== value.id);\n    setBaza(filtered);\n  };\n  const onRestore = () => {\n    setBaza(restore);\n  };\n  const dragStartHandler = (e, value) => {\n    setCurrentCard(value);\n  };\n  const dragEndHandler = (e) => {\n    e.target.style.background = \"white\";\n  };\n  const dragOverHandler = (e) => {\n    e.preventDefault();\n    e.target.style.background = \"lightgray\";\n  };\n  const dropHandler = (e, value) => {\n    e.preventDefault();\n    setBaza(\n      baza.map((c) => {\n        if (c.id === value.id) {\n          return { ...c, order: currentCard.order };\n        }\n        if (c.id === currentCard.id) {\n          return { ...c, order: value.order };\n        }\n        return c;\n      })\n    );\n    e.target.style.background = \"white\";\n  };\n  const sortCards = (a, b) => {\n    if (a.order < b.order) {\n      return 1;\n    } else {\n      return -1;\n    }\n  };\n  return (\n    <Container>\n      {baza.length !== 0 ? (\n        baza.sort(sortCards).map((value) => (\n          <Wrapper\n            onDragStart={(e) => dragStartHandler(e, value)}\n            onDragLeave={(e) => dragEndHandler(e)}\n            onDragEnd={(e) => dragEndHandler(e)}\n            onDragOver={(e) => dragOverHandler(e)}\n            onDrop={(e) => dropHandler(e, value)}\n            draggable={true}\n            key={value.id}\n          >\n            <Dates>\n              <Title left=\"true\">\n                <Column location=\"true\">{value.location}</Column>\n                <Column>{value.operator}</Column>\n              </Title>\n              <Title>\n                <Column location=\"true\">{value.orderprice} UZS</Column>\n                <Info>\n                  <Payme />\n                  <Column>Payme</Column>\n                </Info>\n              </Title>\n              <Title left=\"true\">\n                <Column location=\"true\">{value.user}</Column>\n                <Column>{value.phone}</Column>\n              </Title>\n              <Title left=\"true\">\n                <Column location=\"true\">\n                  {value.sana.getDay()}.{value.sana.getMonth()}.\n                  {value.sana.getFullYear()}\n                </Column>\n                <Column>\n                  {value.time.getHours()}:{value.time.getMinutes()}:\n                  {value.time.getSeconds()}\n                </Column>\n              </Title>\n              <Action>\n                <div onClick={() => onDelete(value)}>\n                  <Delete />\n                </div>\n              </Action>\n            </Dates>\n          </Wrapper>\n        ))\n      ) : (\n        <ButtonAll onClick={onRestore}>\n          <RestoreButton>\n            <Restore className=\"btn-pill\">\n              <span>\n                <RestoreIcon src={restoreIcon} />\n                Restore\n              </span>\n            </Restore>\n          </RestoreButton>\n        </ButtonAll>\n      )}\n    </Container>\n  );\n};\nexport default DND;\n"]},"metadata":{},"sourceType":"module"}