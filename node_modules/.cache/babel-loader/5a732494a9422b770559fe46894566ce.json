{"ast":null,"code":"var _jsxFileName = \"/home/ahrorbek/Videos/ffmeal/src/components/Mahsulotlar/DND/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Container, Dates, Wrapper, Image, Title, Action, ImageText, ButtonAll, RestoreButton, Restore, RestoreIcon, Input, Modal, ButtonX, ButtunInput, Inputs, WrapperIcons, Icons } from \"./style\";\nimport { data } from \"../../../mock/mahsulotlar\";\nimport Delete from \"../../Generic/Delete\";\nimport Edit from \"../../Generic/Edit\";\nimport Cancel from \"../../Generic/Cancel\";\nimport restoreIcon from \"../../../assets/icon/restoreIcon.svg\";\nimport Save from \"../../Generic/Save\";\nimport basket from \"../../../assets/icon/basket.svg\";\nimport kategro from \"../../../assets/icon/kategro.svg\";\nimport price from \"../../../assets/icon/price.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const DND = props => {\n  _s();\n\n  const [baza, setBaza] = useState(data);\n  const [restore] = useState(data);\n  const [categoriya, setCategoriya] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [qoshimcha, setQoshimcha] = useState(\"\");\n  const [selected, setSelected] = useState(null);\n  const [currentCard, setCurrentCard] = useState(null);\n\n  const onDelete = value => {\n    const filtered = baza.filter(data => data.id !== value.id);\n    setBaza(filtered);\n  };\n\n  const onRestore = () => {\n    setBaza(restore);\n  };\n\n  const onEdit = value => {\n    setSelected(value.id);\n    setTitle(value.title);\n    setCategoriya(value.categoriya);\n    setPrice(value.price);\n    setQoshimcha(value.qoshimcha);\n  };\n\n  const dragStartHandler = (e, value) => {\n    setCurrentCard(value);\n  };\n\n  const dragEndHandler = e => {\n    e.target.style.background = \"white\";\n  };\n\n  const dragOverHandler = e => {\n    e.preventDefault();\n    e.target.style.background = \"lightgray\";\n  };\n\n  const dropHandler = (e, value) => {\n    e.preventDefault();\n    setBaza(baza.map(c => {\n      if (c.id === value.id) {\n        return { ...c,\n          order: currentCard.order\n        };\n      }\n\n      if (c.id === currentCard.id) {\n        return { ...c,\n          order: value.order\n        };\n      }\n\n      return c;\n    }));\n    e.target.style.background = \"white\";\n  };\n\n  const sortCards = (a, b) => {\n    if (a.order < b.order) {\n      return 1;\n    } else {\n      return -1;\n    }\n  };\n\n  const onSave = () => {\n    let newData = baza.map(value => value.id === selected ? { ...value,\n      title: title,\n      categoriya: categoriya,\n      price: price,\n      qoshimcha: qoshimcha,\n      selected: value.id\n    } : value);\n    setBaza(newData);\n    setSelected(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: baza.length !== 0 ? baza.sort(sortCards).map(value => /*#__PURE__*/_jsxDEV(Wrapper, {\n        onDragStart: e => dragStartHandler(e, value),\n        onDragLeave: e => dragEndHandler(e),\n        onDragEnd: e => dragEndHandler(e),\n        onDragOver: e => dragOverHandler(e),\n        onDrop: e => dropHandler(e, value),\n        draggable: true,\n        children: /*#__PURE__*/_jsxDEV(Dates, {\n          children: [/*#__PURE__*/_jsxDEV(ImageText, {\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              src: value.Img\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Title, {\n              left: \"true\",\n              children: selected === value.id ? /*#__PURE__*/_jsxDEV(Input, {\n                onChange: e => setTitle(e.target.value),\n                type: \"text\",\n                value: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 23\n              }, this) : value.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            children: selected === value.id ? /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => setCategoriya(e.target.value),\n              type: \"text\",\n              value: categoriya\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 21\n            }, this) : value.categoriya\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            children: selected === value.id ? /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => setPrice(e.target.value),\n              type: \"text\",\n              value: price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 21\n            }, this) : value.price + \"UZS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            children: selected === value.id ? /*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              onChange: e => setQoshimcha(e.target.value),\n              value: qoshimcha\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 21\n            }, this) : value.qoshimcha\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Action, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => onDelete(value),\n              children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }, this), selected === value.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: onSave,\n                children: /*#__PURE__*/_jsxDEV(Save, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setSelected(null),\n                children: /*#__PURE__*/_jsxDEV(Cancel, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => onEdit(value),\n              children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }, this)\n      }, value.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(ButtonAll, {\n        onClick: onRestore,\n        children: /*#__PURE__*/_jsxDEV(RestoreButton, {\n          children: /*#__PURE__*/_jsxDEV(Restore, {\n            className: \"btn-pill\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(RestoreIcon, {\n                src: restoreIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), \"Restore\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), props.showModal && /*#__PURE__*/_jsxDEV(Modal, {\n      children: [/*#__PURE__*/_jsxDEV(ButtonX, {\n        onClick: () => props.onModalCancel(),\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ButtunInput, {\n        children: [/*#__PURE__*/_jsxDEV(WrapperIcons, {\n          children: [/*#__PURE__*/_jsxDEV(Inputs, {\n            placeholder: \"Maxsulotlarni kiritin...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Icons, {\n            src: basket\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(WrapperIcons, {\n          children: [/*#__PURE__*/_jsxDEV(Inputs, {\n            placeholder: \"Kategoriyani kiritin...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Icons, {\n            src: kategro\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(WrapperIcons, {\n          children: [/*#__PURE__*/_jsxDEV(Inputs, {\n            placeholder: \"Narxni kiritin...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Icons, {\n            src: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Inputs, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ButtonAll, {\n        width: \"true\",\n        onClick: restore,\n        children: /*#__PURE__*/_jsxDEV(RestoreButton, {\n          children: /*#__PURE__*/_jsxDEV(Restore, {\n            width: \"true\",\n            className: \"btn-pill\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(RestoreIcon, {\n                src: restoreIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this), \"Restore\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(DND, \"QS0LwV1PP+yYXs1LrAnQHNEyM9w=\");\n\n_c = DND;\nexport default DND;\n\nvar _c;\n\n$RefreshReg$(_c, \"DND\");","map":{"version":3,"sources":["/home/ahrorbek/Videos/ffmeal/src/components/Mahsulotlar/DND/index.jsx"],"names":["React","useState","Container","Dates","Wrapper","Image","Title","Action","ImageText","ButtonAll","RestoreButton","Restore","RestoreIcon","Input","Modal","ButtonX","ButtunInput","Inputs","WrapperIcons","Icons","data","Delete","Edit","Cancel","Save","DND","props","baza","setBaza","restore","categoriya","setCategoriya","title","setTitle","price","setPrice","qoshimcha","setQoshimcha","selected","setSelected","currentCard","setCurrentCard","onDelete","value","filtered","filter","id","onRestore","onEdit","dragStartHandler","e","dragEndHandler","target","style","background","dragOverHandler","preventDefault","dropHandler","map","c","order","sortCards","a","b","onSave","newData","length","sort","Img","display","restoreIcon","showModal","onModalCancel","basket","kategro"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Container,\n  Dates,\n  Wrapper,\n  Image,\n  Title,\n  Action,\n  ImageText,\n  ButtonAll,\n  RestoreButton,\n  Restore,\n  RestoreIcon,\n  Input,\n  Modal,\n  ButtonX,\n  ButtunInput,\n  Inputs,\n  WrapperIcons,\n  Icons,\n} from \"./style\";\nimport { data } from \"../../../mock/mahsulotlar\";\nimport Delete from \"../../Generic/Delete\";\nimport Edit from \"../../Generic/Edit\";\nimport Cancel from \"../../Generic/Cancel\";\nimport restoreIcon from \"../../../assets/icon/restoreIcon.svg\";\nimport Save from \"../../Generic/Save\";\nimport basket from \"../../../assets/icon/basket.svg\";\nimport kategro from \"../../../assets/icon/kategro.svg\";\nimport price from \"../../../assets/icon/price.svg\";\n\nexport const DND = (props) => {\n  const [baza, setBaza] = useState(data);\n  const [restore] = useState(data);\n  const [categoriya, setCategoriya] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [qoshimcha, setQoshimcha] = useState(\"\");\n  const [selected, setSelected] = useState(null);\n  const [currentCard, setCurrentCard] = useState(null);\n\n  const onDelete = (value) => {\n    const filtered = baza.filter((data) => data.id !== value.id);\n    setBaza(filtered);\n  };\n  const onRestore = () => {\n    setBaza(restore);\n  };\n  const onEdit = (value) => {\n    setSelected(value.id);\n    setTitle(value.title);\n    setCategoriya(value.categoriya);\n    setPrice(value.price);\n    setQoshimcha(value.qoshimcha);\n  };\n  const dragStartHandler = (e, value) => {\n    setCurrentCard(value);\n  };\n  const dragEndHandler = (e) => {\n    e.target.style.background = \"white\";\n  };\n  const dragOverHandler = (e) => {\n    e.preventDefault();\n    e.target.style.background = \"lightgray\";\n  };\n  const dropHandler = (e, value) => {\n    e.preventDefault();\n    setBaza(\n      baza.map((c) => {\n        if (c.id === value.id) {\n          return { ...c, order: currentCard.order };\n        }\n        if (c.id === currentCard.id) {\n          return { ...c, order: value.order };\n        }\n        return c;\n      })\n    );\n    e.target.style.background = \"white\";\n  };\n  const sortCards = (a, b) => {\n    if (a.order < b.order) {\n      return 1;\n    } else {\n      return -1;\n    }\n  };\n  const onSave = () => {\n    let newData = baza.map((value) =>\n      value.id === selected\n        ? {\n            ...value,\n            title: title,\n            categoriya: categoriya,\n            price: price,\n            qoshimcha: qoshimcha,\n            selected: value.id,\n          }\n        : value\n    );\n    setBaza(newData);\n    setSelected(null);\n  };\n\n  return (\n    <>\n      <Container>\n        {baza.length !== 0 ? (\n          baza.sort(sortCards).map((value) => (\n            <Wrapper\n              onDragStart={(e) => dragStartHandler(e, value)}\n              onDragLeave={(e) => dragEndHandler(e)}\n              onDragEnd={(e) => dragEndHandler(e)}\n              onDragOver={(e) => dragOverHandler(e)}\n              onDrop={(e) => dropHandler(e, value)}\n              draggable={true}\n              key={value.id}\n            >\n              <Dates>\n                <ImageText>\n                  <Image src={value.Img} />\n                  <Title left=\"true\">\n                    {selected === value.id ? (\n                      <Input\n                        onChange={(e) => setTitle(e.target.value)}\n                        type=\"text\"\n                        value={title}\n                      />\n                    ) : (\n                      value.title\n                    )}\n                  </Title>\n                </ImageText>\n                <Title>\n                  {selected === value.id ? (\n                    <Input\n                      onChange={(e) => setCategoriya(e.target.value)}\n                      type=\"text\"\n                      value={categoriya}\n                    />\n                  ) : (\n                    value.categoriya\n                  )}\n                </Title>\n                <Title>\n                  {selected === value.id ? (\n                    <Input\n                      onChange={(e) => setPrice(e.target.value)}\n                      type=\"text\"\n                      value={price}\n                    />\n                  ) : (\n                    value.price + \"UZS\"\n                  )}\n                </Title>\n                <Title>\n                  {selected === value.id ? (\n                    <Input\n                      type=\"text\"\n                      onChange={(e) => setQoshimcha(e.target.value)}\n                      value={qoshimcha}\n                    />\n                  ) : (\n                    value.qoshimcha\n                  )}\n                </Title>\n                <Action>\n                  <div onClick={() => onDelete(value)}>\n                    <Delete />\n                  </div>\n                  {selected === value.id ? (\n                    <div style={{ display: \"flex\" }}>\n                      <div onClick={onSave}>\n                        <Save />\n                      </div>\n                      <div onClick={() => setSelected(null)}>\n                        <Cancel />\n                      </div>\n                    </div>\n                  ) : (\n                    <div onClick={() => onEdit(value)}>\n                      <Edit />\n                    </div>\n                  )}\n                </Action>\n              </Dates>\n            </Wrapper>\n          ))\n        ) : (\n          <ButtonAll onClick={onRestore}>\n            <RestoreButton>\n              <Restore className=\"btn-pill\">\n                <span>\n                  <RestoreIcon src={restoreIcon} />\n                  Restore\n                </span>\n              </Restore>\n            </RestoreButton>\n          </ButtonAll>\n        )}\n      </Container>\n      {props.showModal && (\n        <Modal>\n          <ButtonX onClick={() => props.onModalCancel()}>X</ButtonX>\n          <ButtunInput>\n            <WrapperIcons>\n              <Inputs placeholder=\"Maxsulotlarni kiritin...\" />\n              <Icons src={basket} />\n            </WrapperIcons>\n            <WrapperIcons>\n              <Inputs placeholder=\"Kategoriyani kiritin...\" />\n              <Icons src={kategro} />\n            </WrapperIcons>\n            <WrapperIcons>\n              <Inputs placeholder=\"Narxni kiritin...\" />\n              <Icons src={price} />\n            </WrapperIcons>\n            <Inputs />\n          </ButtunInput>\n\n          <ButtonAll width=\"true\" onClick={restore}>\n            <RestoreButton>\n              <Restore width=\"true\" className=\"btn-pill\">\n                <span>\n                  <RestoreIcon src={restoreIcon} />\n                  Restore\n                </span>\n              </Restore>\n            </RestoreButton>\n          </ButtonAll>\n        </Modal>\n      )}\n    </>\n  );\n};\nexport default DND;\n"]},"metadata":{},"sourceType":"module"}