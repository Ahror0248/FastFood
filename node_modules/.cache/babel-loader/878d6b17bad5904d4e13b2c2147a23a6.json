{"ast":null,"code":"import _objectSpread from\"/home/ahrorbek/Videos/ffmeal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ahrorbek/Videos/ffmeal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{YMaps,Map,Placemark,TypeSelector,GeolocationControl,FullscreenControl,RouteButton,SearchControl,TrafficControl,ZoomControl}from\"react-yandex-maps\";import{Container,Dates,Wrapper,Title,Action,ImageText,ButtonAll,RestoreButton,Restore,RestoreIcon,Input,ReactYandex,YandexTitle}from\"./style\";import{data}from\"../../../mock/filiallar\";import Delete from\"../../Generic/Delete\";import Edit from\"../../Generic/Edit\";import Cancel from\"../../Generic/Cancel\";import restoreIcon from\"../../../assets/icon/restoreIcon.svg\";import Maps from\"../../Generic/Map\";import Save from\"../../Generic/Save\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var DND=function DND(){var _useState=useState(data),_useState2=_slicedToArray(_useState,2),baza=_useState2[0],setBaza=_useState2[1];var _useState3=useState(data),_useState4=_slicedToArray(_useState3,1),restore=_useState4[0];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selected=_useState6[0],setSelected=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),mapselected=_useState8[0],setMapSelected=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),currentCard=_useState10[0],setCurrentCard=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),title=_useState12[0],setTitle=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),rutitle=_useState14[0],setRuTitle=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),moljal=_useState16[0],setMoljal=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),ish=_useState18[0],setIsh=_useState18[1];var onDelete=function onDelete(value){var filtered=baza.filter(function(data){return data.id!==value.id;});setBaza(filtered);};var onRestore=function onRestore(){setBaza(restore);};var onEdit=function onEdit(value){setSelected(value.id);setTitle(value.title);setRuTitle(value.rutitle);setMoljal(value.moljal);setIsh(value.ish);};var onMap=function onMap(value){setMapSelected(value.id);};var dragStartHandler=function dragStartHandler(e,value){setCurrentCard(value);};var dragEndHandler=function dragEndHandler(e){e.target.style.background=\"white\";};var dragOverHandler=function dragOverHandler(e){e.preventDefault();e.target.style.background=\"lightgray\";};var onSave=function onSave(){var newData=baza.map(function(value){return value.id===selected?_objectSpread(_objectSpread({},value),{},{title:title,rutitle:rutitle,moljal:moljal,ish:ish,selected:value.id}):value;});setBaza(newData);setSelected(null);};var dropHandler=function dropHandler(e,value){e.preventDefault();setBaza(baza.map(function(c){if(c.id===value.id){return _objectSpread(_objectSpread({},c),{},{order:currentCard.order});}if(c.id===currentCard.id){return _objectSpread(_objectSpread({},c),{},{order:value.order});}return c;}));e.target.style.background=\"white\";};var sortCards=function sortCards(a,b){if(a.order<b.order){return 1;}else{return-1;}};return/*#__PURE__*/_jsx(Container,{children:baza.length!==0?baza.sort(sortCards).map(function(value){return/*#__PURE__*/_jsxs(Wrapper,{onDragStart:function onDragStart(e){return dragStartHandler(e,value);},onDragLeave:function onDragLeave(e){return dragEndHandler(e);},onDragEnd:function onDragEnd(e){return dragEndHandler(e);},onDragOver:function onDragOver(e){return dragOverHandler(e);},onDrop:function onDrop(e){return dropHandler(e,value);},draggable:true,children:[/*#__PURE__*/_jsxs(Dates,{children:[/*#__PURE__*/_jsx(ImageText,{children:/*#__PURE__*/_jsx(Title,{left:\"true\",children:selected===value.id?/*#__PURE__*/_jsx(Input,{onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\",value:title}):value.title})}),/*#__PURE__*/_jsx(Title,{children:selected===value.id?/*#__PURE__*/_jsx(Input,{onChange:function onChange(e){return setRuTitle(e.target.value);},type:\"text\",value:rutitle}):value.rutitle}),/*#__PURE__*/_jsx(Title,{children:selected===value.id?/*#__PURE__*/_jsx(Input,{onChange:function onChange(e){return setMoljal(e.target.value);},type:\"text\",value:moljal}):value.moljal}),/*#__PURE__*/_jsx(Title,{children:selected===value.id?/*#__PURE__*/_jsx(Input,{onChange:function onChange(e){return setIsh(e.target.value);},type:\"text\",value:ish}):value.ish}),/*#__PURE__*/_jsxs(Action,{children:[mapselected===value.id?/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setMapSelected(null);},children:/*#__PURE__*/_jsx(Cancel,{})}):/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return onMap(value);},children:/*#__PURE__*/_jsx(Maps,{})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return onDelete(value);},children:/*#__PURE__*/_jsx(Delete,{})}),selected===value.id?/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"div\",{onClick:onSave,children:/*#__PURE__*/_jsx(Save,{})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setSelected(null);},children:/*#__PURE__*/_jsx(Cancel,{})})]}):/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return onEdit(value);},children:/*#__PURE__*/_jsx(Edit,{})})]})]}),mapselected===value.id?/*#__PURE__*/_jsx(ReactYandex,{children:/*#__PURE__*/_jsxs(YMaps,{children:[/*#__PURE__*/_jsx(YandexTitle,{children:\"Location\"}),/*#__PURE__*/_jsxs(Map,{style:{width:\"100%\",height:300},defaultState:{center:[41.114592,72.077593],zoom:5},children:[/*#__PURE__*/_jsx(Placemark,{geometry:[41.114592,72.077593]}),/*#__PURE__*/_jsx(TypeSelector,{options:{float:\"right\"}}),/*#__PURE__*/_jsx(GeolocationControl,{options:{float:\"left\"}}),/*#__PURE__*/_jsx(FullscreenControl,{}),/*#__PURE__*/_jsx(RouteButton,{options:{float:\"right\"}}),/*#__PURE__*/_jsx(SearchControl,{options:{float:\"right\"}}),/*#__PURE__*/_jsx(TrafficControl,{options:{float:\"right\"}}),/*#__PURE__*/_jsx(ZoomControl,{options:{float:\"right\"}})]})]})}):\"\"]},value.id);}):/*#__PURE__*/_jsx(ButtonAll,{onClick:onRestore,children:/*#__PURE__*/_jsx(RestoreButton,{children:/*#__PURE__*/_jsx(Restore,{className:\"btn-pill\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(RestoreIcon,{src:restoreIcon}),\"Restore\"]})})})})});};export default DND;","map":{"version":3,"sources":["/home/ahrorbek/Videos/ffmeal/src/components/Filiallar/DND/index.jsx"],"names":["React","useState","YMaps","Map","Placemark","TypeSelector","GeolocationControl","FullscreenControl","RouteButton","SearchControl","TrafficControl","ZoomControl","Container","Dates","Wrapper","Title","Action","ImageText","ButtonAll","RestoreButton","Restore","RestoreIcon","Input","ReactYandex","YandexTitle","data","Delete","Edit","Cancel","Maps","Save","DND","baza","setBaza","restore","selected","setSelected","mapselected","setMapSelected","currentCard","setCurrentCard","title","setTitle","rutitle","setRuTitle","moljal","setMoljal","ish","setIsh","onDelete","value","filtered","filter","id","onRestore","onEdit","onMap","dragStartHandler","e","dragEndHandler","target","style","background","dragOverHandler","preventDefault","onSave","newData","map","dropHandler","c","order","sortCards","a","b","length","sort","display","width","height","center","zoom","float","restoreIcon"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  YMaps,\n  Map,\n  Placemark,\n  TypeSelector,\n  GeolocationControl,\n  FullscreenControl,\n  RouteButton,\n  SearchControl,\n  TrafficControl,\n  ZoomControl,\n} from \"react-yandex-maps\";\nimport {\n  Container,\n  Dates,\n  Wrapper,\n  Title,\n  Action,\n  ImageText,\n  ButtonAll,\n  RestoreButton,\n  Restore,\n  RestoreIcon,\n  Input,\n  ReactYandex,\n  YandexTitle,\n} from \"./style\";\nimport { data } from \"../../../mock/filiallar\";\nimport Delete from \"../../Generic/Delete\";\nimport Edit from \"../../Generic/Edit\";\nimport Cancel from \"../../Generic/Cancel\";\nimport restoreIcon from \"../../../assets/icon/restoreIcon.svg\";\nimport Maps from \"../../Generic/Map\";\nimport Save from \"../../Generic/Save\";\n\nexport const DND = () => {\n  const [baza, setBaza] = useState(data);\n  const [restore] = useState(data);\n  const [selected, setSelected] = useState(null);\n  const [mapselected, setMapSelected] = useState(null);\n  const [currentCard, setCurrentCard] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  const [rutitle, setRuTitle] = useState(\"\");\n  const [moljal, setMoljal] = useState(\"\");\n  const [ish, setIsh] = useState(\"\");\n\n  const onDelete = (value) => {\n    const filtered = baza.filter((data) => data.id !== value.id);\n    setBaza(filtered);\n  };\n  const onRestore = () => {\n    setBaza(restore);\n  };\n  const onEdit = (value) => {\n    setSelected(value.id);\n    setTitle(value.title);\n    setRuTitle(value.rutitle);\n    setMoljal(value.moljal);\n    setIsh(value.ish);\n  };\n  const onMap = (value) => {\n    setMapSelected(value.id);\n  };\n  const dragStartHandler = (e, value) => {\n    setCurrentCard(value);\n  };\n  const dragEndHandler = (e) => {\n    e.target.style.background = \"white\";\n  };\n  const dragOverHandler = (e) => {\n    e.preventDefault();\n    e.target.style.background = \"lightgray\";\n  };\n  const onSave = () => {\n    let newData = baza.map((value) =>\n      value.id === selected\n        ? {\n            ...value,\n            title: title,\n            rutitle: rutitle,\n            moljal: moljal,\n            ish: ish,\n            selected: value.id,\n          }\n        : value\n    );\n    setBaza(newData);\n    setSelected(null);\n  };\n  const dropHandler = (e, value) => {\n    e.preventDefault();\n    setBaza(\n      baza.map((c) => {\n        if (c.id === value.id) {\n          return { ...c, order: currentCard.order };\n        }\n        if (c.id === currentCard.id) {\n          return { ...c, order: value.order };\n        }\n        return c;\n      })\n    );\n    e.target.style.background = \"white\";\n  };\n  const sortCards = (a, b) => {\n    if (a.order < b.order) {\n      return 1;\n    } else {\n      return -1;\n    }\n  };\n  return (\n    <Container>\n      {baza.length !== 0 ? (\n        baza.sort(sortCards).map((value) => (\n          <Wrapper\n            onDragStart={(e) => dragStartHandler(e, value)}\n            onDragLeave={(e) => dragEndHandler(e)}\n            onDragEnd={(e) => dragEndHandler(e)}\n            onDragOver={(e) => dragOverHandler(e)}\n            onDrop={(e) => dropHandler(e, value)}\n            draggable={true}\n            key={value.id}\n          >\n            <Dates>\n              <ImageText>\n                <Title left=\"true\">\n                  {selected === value.id ? (\n                    <Input\n                      onChange={(e) => setTitle(e.target.value)}\n                      type=\"text\"\n                      value={title}\n                    />\n                  ) : (\n                    value.title\n                  )}\n                </Title>\n              </ImageText>\n              <Title>\n                {selected === value.id ? (\n                  <Input\n                    onChange={(e) => setRuTitle(e.target.value)}\n                    type=\"text\"\n                    value={rutitle}\n                  />\n                ) : (\n                  value.rutitle\n                )}\n              </Title>\n              <Title>\n                {selected === value.id ? (\n                  <Input\n                    onChange={(e) => setMoljal(e.target.value)}\n                    type=\"text\"\n                    value={moljal}\n                  />\n                ) : (\n                  value.moljal\n                )}\n              </Title>\n              <Title>\n                {selected === value.id ? (\n                  <Input\n                    onChange={(e) => setIsh(e.target.value)}\n                    type=\"text\"\n                    value={ish}\n                  />\n                ) : (\n                  value.ish\n                )}\n              </Title>\n              <Action>\n                {mapselected === value.id ? (\n                  <div onClick={() => setMapSelected(null)}>\n                    <Cancel />\n                  </div>\n                ) : (\n                  <div onClick={() => onMap(value)}>\n                    <Maps />\n                  </div>\n                )}\n                <div onClick={() => onDelete(value)}>\n                  <Delete />\n                </div>\n                {selected === value.id ? (\n                  <div style={{ display: \"flex\" }}>\n                    <div onClick={onSave}>\n                      <Save />\n                    </div>\n                    <div onClick={() => setSelected(null)}>\n                      <Cancel />\n                    </div>\n                  </div>\n                ) : (\n                  <div onClick={() => onEdit(value)}>\n                    <Edit />\n                  </div>\n                )}\n              </Action>\n            </Dates>\n            {mapselected === value.id ? (\n              <ReactYandex>\n                <YMaps>\n                  <YandexTitle>Location</YandexTitle>\n                  <Map\n                    style={{ width: \"100%\", height: 300 }}\n                    defaultState={{\n                      center: [41.114592, 72.077593],\n                      zoom: 5,\n                    }}\n                  >\n                    <Placemark geometry={[41.114592, 72.077593]} />\n                    <TypeSelector options={{ float: \"right\" }} />\n                    <GeolocationControl options={{ float: \"left\" }} />\n                    <FullscreenControl />\n                    <RouteButton options={{ float: \"right\" }} />\n                    <SearchControl options={{ float: \"right\" }} />\n                    <TrafficControl options={{ float: \"right\" }} />\n                    <ZoomControl options={{ float: \"right\" }} />\n                  </Map>\n                </YMaps>\n              </ReactYandex>\n            ) : (\n              \"\"\n            )}\n          </Wrapper>\n        ))\n      ) : (\n        <ButtonAll onClick={onRestore}>\n          <RestoreButton>\n            <Restore className=\"btn-pill\">\n              <span>\n                <RestoreIcon src={restoreIcon} />\n                Restore\n              </span>\n            </Restore>\n          </RestoreButton>\n        </ButtonAll>\n      )}\n    </Container>\n  );\n};\nexport default DND;\n"]},"metadata":{},"sourceType":"module"}