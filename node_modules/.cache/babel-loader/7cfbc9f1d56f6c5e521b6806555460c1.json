{"ast":null,"code":"import _toConsumableArray from\"/home/ahrorbek/Videos/ffmeal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/ahrorbek/Videos/ffmeal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from\"react\";import\"./drop-file-input.css\";import{ImageConfig}from\"../ImageConfig\";import uploadImg from\"../../../../assets/img/cloud-upload-regular-240.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DropFileInput=function DropFileInput(props){var wrapperRef=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),fileList=_useState2[0],setFileList=_useState2[1];var onDragEnter=function onDragEnter(){return wrapperRef.current.classList.add(\"dragover\");};var onDragLeave=function onDragLeave(){return wrapperRef.current.classList.remove(\"dragover\");};var onDrop=function onDrop(){return wrapperRef.current.classList.remove(\"dragover\");};var onFileDrop=function onFileDrop(e){var newFile=e.target.files[0];if(newFile){var updatedList=[].concat(_toConsumableArray(fileList),[newFile]);setFileList(updatedList);props.onFileChange(updatedList);}};var fileRemove=function fileRemove(file){var updatedList=_toConsumableArray(fileList);updatedList.splice(fileList.indexOf(file),1);setFileList(updatedList);props.onFileChange(updatedList);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{ref:wrapperRef,className:\"drop-file-input\",onDragEnter:onDragEnter,onDragLeave:onDragLeave,onDrop:onDrop,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-input__label\",children:[/*#__PURE__*/_jsx(\"img\",{src:uploadImg,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Drag & Drop your files here\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",value:\"\",onChange:onFileDrop})]}),fileList.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-preview\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"drop-file-preview__title\",children:\"Yuklangan Fayllar\"}),fileList.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-preview__item\",children:[/*#__PURE__*/_jsx(\"img\",{src:ImageConfig[item.type.split(\"/\")[1]]||ImageConfig[\"default\"],alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-preview__item__info\",children:[/*#__PURE__*/_jsx(\"p\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[item.size,\"B\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-file-preview__item__del\",onClick:function onClick(){return fileRemove(item);},children:\"x\"})]},index);})]}):null]});};export default DropFileInput;","map":{"version":3,"sources":["/home/ahrorbek/Videos/ffmeal/src/components/Katalog/Body/component/DropFileInput.jsx"],"names":["React","useRef","useState","ImageConfig","uploadImg","DropFileInput","props","wrapperRef","fileList","setFileList","onDragEnter","current","classList","add","onDragLeave","remove","onDrop","onFileDrop","e","newFile","target","files","updatedList","onFileChange","fileRemove","file","splice","indexOf","length","map","item","index","type","split","name","size"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./drop-file-input.css\";\n\nimport { ImageConfig } from \"../ImageConfig\";\nimport uploadImg from \"../../../../assets/img/cloud-upload-regular-240.png\";\n\nconst DropFileInput = (props) => {\n  const wrapperRef = useRef(null);\n\n  const [fileList, setFileList] = useState([]);\n\n  const onDragEnter = () => wrapperRef.current.classList.add(\"dragover\");\n\n  const onDragLeave = () => wrapperRef.current.classList.remove(\"dragover\");\n\n  const onDrop = () => wrapperRef.current.classList.remove(\"dragover\");\n\n  const onFileDrop = (e) => {\n    const newFile = e.target.files[0];\n    if (newFile) {\n      const updatedList = [...fileList, newFile];\n      setFileList(updatedList);\n      props.onFileChange(updatedList);\n    }\n  };\n\n  const fileRemove = (file) => {\n    const updatedList = [...fileList];\n    updatedList.splice(fileList.indexOf(file), 1);\n    setFileList(updatedList);\n    props.onFileChange(updatedList);\n  };\n\n  return (\n    <>\n      <div\n        ref={wrapperRef}\n        className=\"drop-file-input\"\n        onDragEnter={onDragEnter}\n        onDragLeave={onDragLeave}\n        onDrop={onDrop}\n      >\n        <div className=\"drop-file-input__label\">\n          <img src={uploadImg} alt=\"\" />\n          <p>Drag & Drop your files here</p>\n        </div>\n        <input type=\"file\" value=\"\" onChange={onFileDrop} />\n      </div>\n      {fileList.length > 0 ? (\n        <div className=\"drop-file-preview\">\n          <p className=\"drop-file-preview__title\">Yuklangan Fayllar</p>\n          {fileList.map((item, index) => (\n            <div key={index} className=\"drop-file-preview__item\">\n              <img\n                src={\n                  ImageConfig[item.type.split(\"/\")[1]] || ImageConfig[\"default\"]\n                }\n                alt=\"\"\n              />\n              <div className=\"drop-file-preview__item__info\">\n                <p>{item.name}</p>\n                <p>{item.size}B</p>\n              </div>\n              <span\n                className=\"drop-file-preview__item__del\"\n                onClick={() => fileRemove(item)}\n              >\n                x\n              </span>\n            </div>\n          ))}\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nDropFileInput.propTypes = {\n  onFileChange: PropTypes.func,\n};\n\nexport default DropFileInput;\n"]},"metadata":{},"sourceType":"module"}